"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Keep=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),ThemeContext_1=require("./ThemeContext"),mergeDeep_1=require("../helpers/mergeDeep"),theme_1=require("../theme/theme"),window_exists_1=require("../helpers/window-exists"),Keep=({children:e,theme:t={}})=>{const{theme:r={},dark:s,usePreferences:m=!0}=t,[o,i,n]=(0,ThemeContext_1.useThemeMode)(m),u=(0,mergeDeep_1.mergeDeep)(theme_1.theme,r);(0,react_1.useEffect)(()=>{s&&(null!=i&&i("dark"),(0,window_exists_1.windowExists)())&&document.documentElement.classList.add("dark")},[s,i]);t=(0,react_1.useMemo)(()=>({theme:u,mode:o,toggleMode:n}),[o,n,u]);return(0,jsx_runtime_1.jsx)(ThemeContext_1.ThemeContext.Provider,{value:t,children:e})};exports.Keep=Keep;