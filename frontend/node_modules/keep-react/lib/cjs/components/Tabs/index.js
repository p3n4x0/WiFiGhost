"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Tabs=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),TabItem_1=require("./TabItem"),ThemeContext_1=require("../../Keep/ThemeContext"),cn_1=require("../../helpers/cn"),TabsComponent=(0,react_1.forwardRef)(({children:t,style:e="default",iconPosition:i="left",borderPosition:n="bottom",className:a,onActiveTabChange:o,...s},r)=>{const c=(0,ThemeContext_1.useTheme)().theme.tabs,b=(0,react_1.useMemo)(()=>react_1.Children.map(t,({props:t})=>t),[t]),l=(0,react_1.useRef)([]),[m,d]=(0,react_1.useState)(Math.max(0,b.findIndex(t=>t.active))),[_,u]=(0,react_1.useState)(Math.max(0,b.findIndex(t=>t.active))),f=t=>{d(t),o&&o(t)},x=c.tabList.tabItem.styles[e];return(0,react_1.useEffect)(()=>{l.current[_]?.focus()},[_]),(0,react_1.useImperativeHandle)(r,()=>({setActiveTab:f})),(0,jsx_runtime_1.jsxs)("div",{className:(0,cn_1.cn)(c.base,a),children:[(0,jsx_runtime_1.jsx)("div",{"aria-label":"Tabs",role:"tablist",className:(0,cn_1.cn)(c.tabList.base,"pills"!==e&&c.tabList.borderPosition[n],a),...s,children:b.map((t,a)=>(0,jsx_runtime_1.jsxs)("button",{type:"button","aria-controls":a+1+"-tabpanel-"+a,"aria-selected":a===m,className:(0,cn_1.cn)(c.tabList.tabItem.base,x.base,a===m&&x.active.on,a!==m&&!t.disabled&&x.active.off,"top"===n&&a===m&&x.borderPosition.top,"bottom"===n&&a===m&&x.borderPosition.bottom),disabled:t.disabled,id:a+1+"-tab-"+a,onClick:()=>{return t=[{target:a}["target"]][0],f(t),void u(t);var t},onKeyDown:t=>{return{event:t,target:e}=[{event:t,target:a}][0],"ArrowLeft"===t.key&&u(Math.max(0,_-1)),"ArrowRight"===t.key&&u(Math.min(b.length-1,_+1)),void("Enter"===t.key&&(f(e),u(e)));var e},role:"tab",tabIndex:a===_?0:-1,children:[t.icon&&"left"===i&&(0,jsx_runtime_1.jsx)("span",{className:c.tabList.tabItem.icon.left,children:t.icon}),t.title,t.icon&&"right"===i&&(0,jsx_runtime_1.jsx)("span",{className:c.tabList.tabItem.icon.right,children:t.icon}),t.notification&&(0,jsx_runtime_1.jsx)("span",{className:(0,cn_1.cn)(c.tabList.tabItem.notification.base,t.notificationColor&&c.tabList.tabItem.notification.notificationColor[t.notificationColor],!t.notificationColor&&c.tabList.tabItem.notification.notificationColor.info,"string"==typeof t.notification&&c.tabList.tabItem.notification.type.text,"number"==typeof t.notification&&c.tabList.tabItem.notification.type.number),children:t.notification})]},a))}),(0,jsx_runtime_1.jsx)("div",{children:b.map((t,e)=>(0,jsx_runtime_1.jsx)("div",{"aria-labelledby":e+1+"-tab-"+e,className:c.tabPanel,hidden:e!==m,id:e+1+"-tabpanel-"+e,role:"tabpanel",tabIndex:0,children:t.children},e))})]})});TabsComponent.displayName="Tabs",TabItem_1.TabItem.displayName="Tabs.Item",exports.Tabs=Object.assign(TabsComponent,{Item:TabItem_1.TabItem});