"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SidebarItem=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("react"),Tooltip_1=require("../Tooltip"),SidebarContext_1=require("./SidebarContext"),SidebarItemContext_1=require("./SidebarItemContext"),ThemeContext_1=require("../../Keep/ThemeContext"),mergeDeep_1=require("../../helpers/mergeDeep"),Badge_1=require("../Badge"),cn_1=require("../../helpers/cn"),ListItem=({id:e,isCollapsed:i,tooltipChildren:t,children:r})=>(0,jsx_runtime_1.jsx)("li",{children:i?(0,jsx_runtime_1.jsx)(Tooltip_1.Tooltip,{content:(0,jsx_runtime_1.jsx)(TooltipContent,{id:e,children:t}),placement:"right",children:r}):r}),TooltipContent=({id:e,children:i})=>(0,jsx_runtime_1.jsx)(Children,{id:e,children:i}),Children=({id:e,children:i})=>{var t=(0,ThemeContext_1.useTheme)().theme.sidebar.item;return(0,jsx_runtime_1.jsx)("span",{"data-testid":"keep-sidebar-item-content",id:"keep-sidebar-item-"+e,className:(0,cn_1.cn)(t.content.base),children:i})};exports.SidebarItem=(0,react_1.forwardRef)(({active:e,as:i="a",children:t,className:r,icon:s,label:a,labelColor:n="info",theme:d={},...l},o)=>{var c=(0,react_1.useId)(),m=(0,SidebarContext_1.useSidebarContext)()["isCollapsed"],_=(0,SidebarItemContext_1.useSidebarItemContext)()["isInsideCollapse"],x=(0,ThemeContext_1.useTheme)().theme.sidebar.item,x=(0,mergeDeep_1.mergeDeep)(x,d);return(0,jsx_runtime_1.jsx)(ListItem,{id:c,isCollapsed:m,tooltipChildren:t,children:(0,jsx_runtime_1.jsxs)(i,{"aria-labelledby":"keep-sidebar-item-"+c,ref:o,className:(0,cn_1.cn)(x.base,e&&x.active,!m&&_&&x.collapsed?.insideCollapse,r),...l,children:[s&&(0,jsx_runtime_1.jsx)("div",{"aria-hidden":!0,"data-testid":"keep-sidebar-item-icon",className:(0,cn_1.cn)(x.icon?.base,e&&x.icon?.active),children:s}),m&&!s&&(0,jsx_runtime_1.jsx)("span",{className:x.collapsed?.noIcon,children:t.charAt(0).toLocaleUpperCase()??"?"}),!m&&(0,jsx_runtime_1.jsx)(Children,{id:c,children:t}),!m&&a&&(0,jsx_runtime_1.jsx)(Badge_1.Badge,{color:n,"data-testid":"keep-sidebar-label",hidden:m,className:x.label,children:a})]})})}),exports.SidebarItem.displayName="Sidebar.Item";