"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SidebarCollapse=void 0;const jsx_runtime_1=require("react/jsx-runtime"),phosphor_react_1=require("phosphor-react"),react_1=require("react"),Tooltip_1=require("../Tooltip"),SidebarContext_1=require("./SidebarContext"),SidebarItemContext_1=require("./SidebarItemContext"),ThemeContext_1=require("../../Keep/ThemeContext"),mergeDeep_1=require("../../helpers/mergeDeep"),cn_1=require("../../helpers/cn"),SidebarCollapse=({children:e,className:r,icon:t,label:s,open:i=!1,theme:a={},...l})=>{var n=(0,react_1.useId)();const o=(0,SidebarContext_1.useSidebarContext)()["isCollapsed"],[d,c]=(0,react_1.useState)(i);var _=(0,ThemeContext_1.useTheme)().theme.sidebar.collapse,_=(0,mergeDeep_1.mergeDeep)(_,a);(0,react_1.useEffect)(()=>c(i),[i]);return(0,jsx_runtime_1.jsxs)(({children:e})=>(0,jsx_runtime_1.jsx)("li",{children:o&&!d?(0,jsx_runtime_1.jsx)(Tooltip_1.Tooltip,{content:s,placement:"right",children:e}):e}),{children:[(0,jsx_runtime_1.jsxs)("button",{id:"keep-sidebar-collapse-"+n,onClick:()=>c(!d),title:s,type:"button",className:(0,cn_1.cn)(_.button,r),...l,children:[t&&(0,jsx_runtime_1.jsx)("div",{"aria-hidden":!0,"data-testid":"keep-sidebar-collapse-icon",className:(0,cn_1.cn)(_.icon.base,_.icon.open[d?"on":"off"]),children:t}),o?(0,jsx_runtime_1.jsx)("span",{className:"sr-only",children:s}):(0,jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment,{children:[(0,jsx_runtime_1.jsx)("span",{"data-testid":"keep-sidebar-collapse-label",className:_.label.base,children:s}),(0,jsx_runtime_1.jsx)(phosphor_react_1.CaretDown,{size:24,weight:"bold"})]})]}),(0,jsx_runtime_1.jsx)("ul",{"aria-labelledby":"keep-sidebar-collapse-"+n,hidden:!d,className:_.list,children:(0,jsx_runtime_1.jsx)(SidebarItemContext_1.SidebarItemContext.Provider,{value:{isInsideCollapse:!0},children:e})})]})};exports.SidebarCollapse=SidebarCollapse,exports.SidebarCollapse.displayName="Sidebar.Collapse";