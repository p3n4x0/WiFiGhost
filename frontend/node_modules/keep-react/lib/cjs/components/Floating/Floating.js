"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Floating=void 0;const jsx_runtime_1=require("react/jsx-runtime"),react_1=require("@floating-ui/react"),react_2=require("react"),floating_1=require("../../helpers/floating"),use_Floating_1=require("../../helpers/use-Floating"),cn_1=require("../../helpers/cn"),Floating=({animation:e="duration-300",arrow:t=!0,children:r,className:a,content:n,placement:i="top",style:s="dark",theme:o,trigger:l="hover",minWidth:c,closeRequestKey:u,..._})=>{var g=(0,react_2.useRef)(null);const[d,p]=(0,react_2.useState)(!1);i=(0,use_Floating_1.useBaseFLoating)({open:d,placement:i,arrowRef:g,setOpen:p});const{context:m,middlewareData:{arrow:{x:f,y:x}={}},refs:h,strategy:j,update:F,x:y,y:w}=i;var v=(0,react_1.useFocus)(m),{getFloatingProps:l,getReferenceProps:v}=(0,use_Floating_1.useFloatingInteractions)({context:m,role:"tooltip",trigger:l,interactions:[v]});return(0,react_2.useEffect)(()=>{if(h.reference.current&&h.floating.current&&d)return(0,react_1.autoUpdate)(h.reference.current,h.floating.current,F)},[d,h.floating,h.reference,F]),(0,react_2.useEffect)(()=>{void 0!==u&&p(!1)},[u]),(0,jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment,{children:[(0,jsx_runtime_1.jsx)("div",{ref:h.setReference,className:o.target,"data-testid":"keep-tooltip-target",...v(),children:r}),(0,jsx_runtime_1.jsxs)("div",{ref:h.setFloating,"data-testid":"keep-tooltip",...l({className:(0,cn_1.cn)(o.base,e&&o.animation+" "+e,!d&&o.hidden,o.style[s],a),style:{position:j,top:w??" ",left:y??" ",minWidth:c},..._}),children:[(0,jsx_runtime_1.jsx)("div",{className:o.content,children:n}),t&&(0,jsx_runtime_1.jsx)("div",{className:(0,cn_1.cn)(o.arrow.base,"dark"===s&&o.arrow.style.dark,"light"===s&&o.arrow.style.light,"auto"===s&&o.arrow.style.auto),"data-testid":"keep-tooltip-arrow",ref:g,style:{top:x??" ",left:f??" ",right:" ",bottom:" ",[(0,floating_1.getArrowPlacement)({placement:i.placement})]:o.arrow.placement},children:"Â "})]})]})};exports.Floating=Floating;