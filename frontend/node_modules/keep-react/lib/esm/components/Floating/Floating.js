import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from"react/jsx-runtime";import{autoUpdate,useFocus}from"@floating-ui/react";import{useEffect,useRef,useState}from"react";import{getArrowPlacement}from"../../helpers/floating";import{useBaseFLoating,useFloatingInteractions}from"../../helpers/use-Floating";import{cn}from"../../helpers/cn";const Floating=({animation:e="duration-300",arrow:t=!0,children:r,className:a,content:o,placement:s="top",style:n="dark",theme:i,trigger:l="hover",minWidth:c,closeRequestKey:m,...p})=>{var f=useRef(null);const[u,g]=useState(!1);s=useBaseFLoating({open:u,placement:s,arrowRef:f,setOpen:g});const{context:d,middlewareData:{arrow:{x:h,y:x}={}},refs:F,strategy:w,update:y,x:j,y:_}=s;var v=useFocus(d),{getFloatingProps:l,getReferenceProps:v}=useFloatingInteractions({context:d,role:"tooltip",trigger:l,interactions:[v]});return useEffect(()=>{if(F.reference.current&&F.floating.current&&u)return autoUpdate(F.reference.current,F.floating.current,y)},[u,F.floating,F.reference,y]),useEffect(()=>{void 0!==m&&g(!1)},[m]),_jsxs(_Fragment,{children:[_jsx("div",{ref:F.setReference,className:i.target,"data-testid":"keep-tooltip-target",...v(),children:r}),_jsxs("div",{ref:F.setFloating,"data-testid":"keep-tooltip",...l({className:cn(i.base,e&&i.animation+" "+e,!u&&i.hidden,i.style[n],a),style:{position:w,top:_??" ",left:j??" ",minWidth:c},...p}),children:[_jsx("div",{className:i.content,children:o}),t&&_jsx("div",{className:cn(i.arrow.base,"dark"===n&&i.arrow.style.dark,"light"===n&&i.arrow.style.light,"auto"===n&&i.arrow.style.auto),"data-testid":"keep-tooltip-arrow",ref:f,style:{top:x??" ",left:h??" ",right:" ",bottom:" ",[getArrowPlacement({placement:s.placement})]:i.arrow.placement},children:"Â "})]})]})};export{Floating};