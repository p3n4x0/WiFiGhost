import{jsx as _jsx,jsxs as _jsxs}from"react/jsx-runtime";import{ArrowClockwise,X}from"phosphor-react";import{useEffect,useRef,useState}from"react";import{useUploadContext}from"./UploadContext";import{useTheme}from"../../Keep/ThemeContext";import{useProgress}from"./useProgress";import{cn}from"../../helpers/cn";const UploadFailed=()=>{var s=useTheme().theme.upload.uploadFailed,{progress:e,uploadTime:o}=useUploadContext();const[r,t]=useState(0),a=useRef(null);useEffect(()=>{var s;a.current&&(s=a.current.getBoundingClientRect().width,t(s))},[]);var{divOneWidth:c,divTwoWidth:i}=useProgress({width:r,progress:e});return _jsxs("div",{className:cn(s.base),children:[_jsx("div",{className:cn(s.bgColor),style:{width:c}}),_jsxs("div",{className:cn(s.root.base),children:[_jsxs("div",{children:[_jsx("p",{className:cn(s.root.status),children:"Something error"}),_jsxs("div",{className:cn(s.root.statusBox.base),children:[_jsxs("p",{className:cn(s.root.statusBox.count),children:[e,"%"]}),_jsx("div",{className:cn(s.root.statusBox.dot)}),_jsx("p",{className:cn(s.root.statusBox.time),children:o||"10 Second Left"})]})]}),_jsxs("div",{className:cn(s.root.confirmBox.base),children:[_jsx("button",{className:cn(s.root.confirmBox.restart),children:_jsx(ArrowClockwise,{size:14,color:"#FF3838"})}),_jsx("button",{className:cn(s.root.confirmBox.dismiss),children:_jsx(X,{size:14,color:"#FF3838"})})]})]}),_jsx("div",{ref:a,className:s.progress.bgBar,children:_jsx("div",{style:{width:i},className:s.progress.mainBar})})]})};export{UploadFailed};