import{jsx as _jsx}from"react/jsx-runtime";import{useEffect,useState}from"react";import{createPortal}from"react-dom";import{excludeClassName}from"../../helpers/exclude";import{ModalBody}from"./ModalBody";import{ModalContext}from"./ModalContext";import{ModalFooter}from"./ModalFooter";import{ModalHeader}from"./ModalHeader";import{useTheme}from"../../Keep/ThemeContext";import{cn}from"../../helpers/cn";const ModalComponent=({children:e,show:o,root:a,icon:d,size:t="sm",position:r="center",onClose:l,...s})=>{const[m,n]=useState(a),[i,c]=useState();a=useTheme().theme.modal,s=excludeClassName(s);return useEffect(()=>{m||n(document.body),i||c(document.createElement("div"))},[m,i]),useEffect(()=>{if(i&&m&&o)return m.appendChild(i),()=>{i&&m.removeChild(i)}},[i,m,o]),i?createPortal(_jsx(ModalContext.Provider,{value:{icon:d,onClose:l},children:_jsx("div",{"aria-hidden":!o,className:cn(a.base,a.positions[r],o?a.show.on:a.show.off),"data-testid":"modal",role:"dialog",...s,children:_jsx("div",{className:cn(a.content.base,a.sizes[t]),children:_jsx("div",{className:a.content.inner,children:e})})})}),i):null},Modal=(ModalComponent.displayName="Modal",ModalHeader.displayName="Modal.Header",ModalBody.displayName="Modal.Body",ModalFooter.displayName="Modal.Footer",Object.assign(ModalComponent,{Header:ModalHeader,Body:ModalBody,Footer:ModalFooter}));export{Modal};