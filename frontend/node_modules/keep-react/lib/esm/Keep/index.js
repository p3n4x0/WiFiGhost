import{jsx as _jsx}from"react/jsx-runtime";import{useEffect,useMemo}from"react";import{ThemeContext,useThemeMode}from"./ThemeContext";import{mergeDeep}from"../helpers/mergeDeep";import{theme as defaultTheme}from"../theme/theme";import{windowExists}from"../helpers/window-exists";const Keep=({children:e,theme:t={}})=>{const{theme:m={},dark:r,usePreferences:o=!0}=t,[s,d,h]=useThemeMode(o),i=mergeDeep(defaultTheme,m);useEffect(()=>{r&&(null!=d&&d("dark"),windowExists())&&document.documentElement.classList.add("dark")},[r,d]);t=useMemo(()=>({theme:i,mode:s,toggleMode:h}),[s,h,i]);return _jsx(ThemeContext.Provider,{value:t,children:e})};export{Keep};